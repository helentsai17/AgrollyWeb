{"ast":null,"code":"var _jsxFileName = \"/Users/helentsai/agrolly-shop/src/components/homePage/agrollynews.js\";\nimport React, { Component } from 'react';\nimport Card from './newsTemplet';\nimport style from './newsTemplet.module.css';\nexport default class AgrollyNews extends Component {\n  constructor(props) {\n    super(props);\n    this.countrySearch = this.countrySearch.bind(this);\n    this.state = {\n      news: [],\n      search: \"Agrolly\"\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:5000/news/allnews').then(response => {\n      // console.log(response.data)\n      const news = response.data;\n      this.setState({\n        news: news\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  countrySearch(e) {\n    this.setState({\n      search: e.target.value\n    });\n  }\n\n  NewsList() {\n    let filterCountry = this.state.news.filter(countries => {\n      console.log(countries.country.toLowerCase().includes(this.state.search.toLowerCase() != -1));\n      return countries.country.toLowerCase().includes(this.state.search.toLowerCase());\n    });\n    return filterCountry.map(currentnews => {\n      if (currentnews.news_id !== null) {\n        return /*#__PURE__*/React.createElement(NewsCards, {\n          key: currentnews.news_id,\n          news: currentnews,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 24\n          }\n        });\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: style.site,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }, NewsList());\n  }\n\n}","map":{"version":3,"sources":["/Users/helentsai/agrolly-shop/src/components/homePage/agrollynews.js"],"names":["React","Component","Card","style","AgrollyNews","constructor","props","countrySearch","bind","state","news","search","componentDidMount","axios","get","then","response","data","setState","catch","error","console","log","e","target","value","NewsList","filterCountry","filter","countries","country","toLowerCase","includes","map","currentnews","news_id","render","site"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,eAAjB;AACA,OAAOC,KAAP,MAAkB,0BAAlB;AAEA,eAAe,MAAMC,WAAN,SAA0BH,SAA1B,CAAoC;AAE/CI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAE,EADG;AAETC,MAAAA,MAAM,EAAC;AAFE,KAAb;AAIH;;AAEDC,EAAAA,iBAAiB,GAAG;AAEhBC,IAAAA,KAAK,CAACC,GAAN,CAAU,oCAAV,EACKC,IADL,CACUC,QAAQ,IAAI;AACd;AACA,YAAMN,IAAI,GAAGM,QAAQ,CAACC,IAAtB;AACA,WAAKC,QAAL,CAAc;AAAER,QAAAA,IAAI,EAAEA;AAAR,OAAd;AACH,KALL,EAMKS,KANL,CAMYC,KAAD,IAAW;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KARL;AASH;;AAEDb,EAAAA,aAAa,CAACgB,CAAD,EAAG;AACZ,SAAKL,QAAL,CAAc;AAACP,MAAAA,MAAM,EAACY,CAAC,CAACC,MAAF,CAASC;AAAjB,KAAd;AACH;;AAEDC,EAAAA,QAAQ,GAAG;AACP,QAAIC,aAAa,GAAG,KAAKlB,KAAL,CAAWC,IAAX,CAAgBkB,MAAhB,CACfC,SAAD,IAAc;AACVR,MAAAA,OAAO,CAACC,GAAR,CAAYO,SAAS,CAACC,OAAV,CAAkBC,WAAlB,GAAgCC,QAAhC,CAAyC,KAAKvB,KAAL,CAAWE,MAAX,CAAkBoB,WAAlB,MAAmC,CAAC,CAA7E,CAAZ;AACA,aAAOF,SAAS,CAACC,OAAV,CAAkBC,WAAlB,GAAgCC,QAAhC,CAAyC,KAAKvB,KAAL,CAAWE,MAAX,CAAkBoB,WAAlB,EAAzC,CAAP;AACH,KAJe,CAApB;AAMA,WAAOJ,aAAa,CAACM,GAAd,CAAkBC,WAAW,IAAI;AACpC,UAAIA,WAAW,CAACC,OAAZ,KAAwB,IAA5B,EAAkC;AAC9B,4BAAO,oBAAC,SAAD;AAAW,UAAA,GAAG,EAAED,WAAW,CAACC,OAA5B;AAAqC,UAAA,IAAI,EAAED,WAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACH;AACJ,KAJM,CAAP;AAKH;;AAEDE,EAAAA,MAAM,GAAG;AACL,wBACI;AAAK,MAAA,SAAS,EAAEjC,KAAK,CAACkC,IAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKX,QAAQ,EADb,CADJ;AAMH;;AAjD8C","sourcesContent":["import React, { Component } from 'react'\nimport Card from './newsTemplet'\nimport style from './newsTemplet.module.css'\n\nexport default class AgrollyNews extends Component {\n\n    constructor(props) {\n        super(props);\n        this.countrySearch = this.countrySearch.bind(this)\n        this.state = { \n            news: [],\n            search:\"Agrolly\" \n        };\n    }\n\n    componentDidMount() {\n\n        axios.get('http://localhost:5000/news/allnews')\n            .then(response => {\n                // console.log(response.data)\n                const news = response.data;\n                this.setState({ news :news });\n            })\n            .catch((error) => {\n                console.log(error);\n            })\n    }\n\n    countrySearch(e){\n        this.setState({search:e.target.value})\n    }\n\n    NewsList() {\n        let filterCountry = this.state.news.filter(\n            (countries) =>{\n                console.log(countries.country.toLowerCase().includes(this.state.search.toLowerCase() != -1))\n                return countries.country.toLowerCase().includes(this.state.search.toLowerCase())\n            }\n        )\n        return filterCountry.map(currentnews => {\n            if (currentnews.news_id !== null) {\n                return <NewsCards key={currentnews.news_id} news={currentnews} />;\n            }\n        })\n    }\n\n    render() {\n        return (\n            <div className={style.site}>\n               { NewsList()}\n               \n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}