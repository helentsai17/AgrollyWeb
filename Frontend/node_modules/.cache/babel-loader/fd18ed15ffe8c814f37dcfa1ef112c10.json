{"ast":null,"code":"var _jsxFileName = \"/Users/helentsai/agrolly-shop/src/components/forum/chatbox.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nlet forumCard = {\n  maxWidth: \"100%\",\n  backgroundColor: \"#eee\",\n  margin: \"10px\",\n  padding: \"10px\"\n};\nlet questiontext = {\n  fontWeight: '700',\n  fontSize: \"20px\"\n};\n\nfunction ChatCard(props) {\n  const [userID, setuserID] = useState('');\n\n  function checkID() {\n    // console.log(props.chat.id)\n    axios.get('http://agrolly.tech/quesComm.php?what=comment&id=' + props.chat.id).then(res => {\n      const chatanwer = res.data[0].user_id;\n      setuserID(chatanwer);\n    }).catch(error => {\n      console.log(\"errow from chat room answer: \" + error);\n    });\n  }\n\n  var token = localStorage.getItem('usertoken');\n  var localdata = JSON.parse(token);\n  let questiondelete = /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => props.deleteQuestion(props.chat.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, \"delete\");\n\n  if (localdata.user_id !== userID) {\n    console.log(userID);\n    questiondelete = null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: forumCard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, checkID(), questiondelete, /*#__PURE__*/React.createElement(Link, {\n    to: \"/forum/joinchat/\" + props.chat.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: questiontext,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, props.chat.question), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, props.chat.name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, props.chat.state), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, props.chat.date)));\n}\n\nexport default ChatCard;","map":{"version":3,"sources":["/Users/helentsai/agrolly-shop/src/components/forum/chatbox.js"],"names":["React","useState","axios","Link","forumCard","maxWidth","backgroundColor","margin","padding","questiontext","fontWeight","fontSize","ChatCard","props","userID","setuserID","checkID","get","chat","id","then","res","chatanwer","data","user_id","catch","error","console","log","token","localStorage","getItem","localdata","JSON","parse","questiondelete","deleteQuestion","question","name","state","date"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAA+B,OAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AAGA,IAAIC,SAAS,GAAG;AACZC,EAAAA,QAAQ,EAAE,MADE;AAEZC,EAAAA,eAAe,EAAE,MAFL;AAGZC,EAAAA,MAAM,EAAE,MAHI;AAIZC,EAAAA,OAAO,EAAE;AAJG,CAAhB;AAMA,IAAIC,YAAY,GAAG;AACfC,EAAAA,UAAU,EAAE,KADG;AAEfC,EAAAA,QAAQ,EAAE;AAFK,CAAnB;;AAKA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AACrB,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBd,QAAQ,CAAC,EAAD,CAApC;;AACA,WAASe,OAAT,GAAmB;AACf;AAECd,IAAAA,KAAK,CAACe,GAAN,CAAU,sDAAsDJ,KAAK,CAACK,IAAN,CAAWC,EAA3E,EACIC,IADJ,CACSC,GAAG,IAAI;AACT,YAAMC,SAAS,GAAGD,GAAG,CAACE,IAAJ,CAAS,CAAT,EAAYC,OAA9B;AACAT,MAAAA,SAAS,CAACO,SAAD,CAAT;AAEH,KALJ,EAKMG,KALN,CAKaC,KAAD,IAAW;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAY,kCAAkCF,KAA9C;AACH,KAPJ;AASJ;;AACD,MAAIG,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAZ;AACA,MAAIC,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWL,KAAX,CAAhB;AACA,MAAIM,cAAc,gBAEd;AAAQ,IAAA,OAAO,EAAE,MAAMtB,KAAK,CAACuB,cAAN,CAAqBvB,KAAK,CAACK,IAAN,CAAWC,EAAhC,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;;AAIA,MAAGa,SAAS,CAACR,OAAV,KAAsBV,MAAzB,EAAgC;AAC5Ba,IAAAA,OAAO,CAACC,GAAR,CAAYd,MAAZ;AACAqB,IAAAA,cAAc,GAAG,IAAjB;AACH;;AAGD,sBACI;AAAK,IAAA,KAAK,EAAE/B,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKY,OAAO,EADZ,EAEKmB,cAFL,eAGI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAE,qBAAqBtB,KAAK,CAACK,IAAN,CAAWC,EAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAG,IAAA,KAAK,EAAEV,YAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAyBI,KAAK,CAACK,IAAN,CAAWmB,QAApC,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIxB,KAAK,CAACK,IAAN,CAAWoB,IAAf,CAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIzB,KAAK,CAACK,IAAN,CAAWqB,KAAf,CAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAI1B,KAAK,CAACK,IAAN,CAAWsB,IAAf,CAJJ,CAHJ,CADJ;AAYH;;AAED,eAAe5B,QAAf","sourcesContent":["import React , {useState} from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\n\nlet forumCard = {\n    maxWidth: \"100%\",\n    backgroundColor: \"#eee\",\n    margin: \"10px\",\n    padding: \"10px\"\n}\nlet questiontext = {\n    fontWeight: '700',\n    fontSize: \"20px\"\n}\n\nfunction ChatCard(props) {\n    const [userID, setuserID] = useState('');\n    function checkID() {\n        // console.log(props.chat.id)\n\n         axios.get('http://agrolly.tech/quesComm.php?what=comment&id=' + props.chat.id)\n            .then(res => {\n                const chatanwer = res.data[0].user_id\n                setuserID(chatanwer)\n                \n            }).catch((error) => {\n                console.log(\"errow from chat room answer: \" + error)\n            })\n            \n    }\n    var token = localStorage.getItem('usertoken');\n    var localdata = JSON.parse(token)\n    let questiondelete =(\n\n        <button onClick={() => props.deleteQuestion(props.chat.id)}>delete</button>\n    )\n    if(localdata.user_id !== userID){\n        console.log(userID)\n        questiondelete = null\n    }\n    \n\n    return (\n        <div style={forumCard}>\n            {checkID()}\n            {questiondelete}\n            <Link to={\"/forum/joinchat/\" + props.chat.id}>\n                <p style={questiontext}>{props.chat.question}</p>\n                <p>{props.chat.name}</p>\n                <p>{props.chat.state}</p>\n                <p>{props.chat.date}</p>\n            </Link>\n        </div>\n    )\n}\n\nexport default ChatCard;"]},"metadata":{},"sourceType":"module"}