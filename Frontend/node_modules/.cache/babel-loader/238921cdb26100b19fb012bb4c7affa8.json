{"ast":null,"code":"var _jsxFileName = \"/Users/helentsai/agrolly-shop/src/components/riskManagement/requireSearch.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nexport default class requireSearch extends Component {\n  constructor(props) {\n    super(props);\n    this.OnChnageCity = this.OnChnageCity.bind(this);\n    this.OnChnageMonth = this.OnChnageMonth.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      city: '',\n      month: '',\n      allcity: [],\n      po_place: ''\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://agrolly.tech/get_cities.php').then(response => {\n      const getcities = response.data;\n      this.setState({\n        allcity: getcities\n      });\n    }).catch(error => {\n      console.log(\"error from get cities: \" + error);\n    });\n  }\n\n  getCityCode() {\n    this.state.allcity.map(currentcity => {\n      if (currentcity.City == this.state.city) {\n        const currentcitypo = currentcity.po_place; // console.log(currentcitypo)\n\n        if (currentcity.po_place != this.state.po_place) {\n          this.setState({\n            po_place: currentcitypo\n          });\n        }\n      }\n    }); // this.getLong();\n  }\n\n  OnChnageMonth(e) {\n    this.setState({\n      month: e.target.value\n    });\n  }\n\n  OnChnageCity(e) {\n    this.setState({\n      city: e.target.value\n    });\n  } // componentDidUpdate(){\n  //     this.getCityCode();\n  // }\n\n\n  componentDidUpdate() {\n    {\n      this.getCityCode();\n    }\n  }\n\n  onSubmit(e) {\n    e.preventDefault(); // this.getCityCode();\n\n    const reset = {\n      po_place: this.state.po_place,\n      month: this.state.month\n    };\n    console.log(this.state.month);\n    console.log(this.state.city);\n    console.log(this.state.po_place); // this.props.history.push({\n    //     pathname: '/croprisk/display',\n    //     state: { detail: reset }\n    //   })\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        \"margin\": \"2% 30%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"input-group-text\",\n      htmlFor: \"inputTime\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 29\n      }\n    }, \"Month\")), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"custom-select\",\n      id: \"inputTime\",\n      value: this.state.month,\n      onChange: this.OnChnageMonth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 29\n      }\n    }, \"Choose...\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 29\n      }\n    }, \"January\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 29\n      }\n    }, \"February\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 29\n      }\n    }, \"March\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 29\n      }\n    }, \"April\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 29\n      }\n    }, \"May\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 29\n      }\n    }, \"June\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 29\n      }\n    }, \"July\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 29\n      }\n    }, \"Auguest\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 29\n      }\n    }, \"September\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 29\n      }\n    }, \"October\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"11\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 29\n      }\n    }, \"November\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 29\n      }\n    }, \"December\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"input-group-text\",\n      htmlFor: \"inputCity\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 29\n      }\n    }, \"City\")), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"custom-select\",\n      id: \"inputCity\",\n      value: this.state.city,\n      onChange: this.OnChnageCity,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 29\n      }\n    }, \"Choose...\"), this.state.allcity.map(allcity => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        value: allcity.City,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 75\n        }\n      }, allcity.City);\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"search\",\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/Users/helentsai/agrolly-shop/src/components/riskManagement/requireSearch.js"],"names":["React","Component","axios","requireSearch","constructor","props","OnChnageCity","bind","OnChnageMonth","onSubmit","state","city","month","allcity","po_place","componentDidMount","get","then","response","getcities","data","setState","catch","error","console","log","getCityCode","map","currentcity","City","currentcitypo","e","target","value","componentDidUpdate","preventDefault","reset","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,aAAN,SAA4BF,SAA5B,CAAsC;AAEjDG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AAEA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBD,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKE,QAAL,GAAgB,KAAKA,QAAL,CAAcF,IAAd,CAAmB,IAAnB,CAAhB;AAEA,SAAKG,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAE,EADG;AAETC,MAAAA,KAAK,EAAE,EAFE;AAGTC,MAAAA,OAAO,EAAC,EAHC;AAITC,MAAAA,QAAQ,EAAC;AAJA,KAAb;AAOH;;AAEDC,EAAAA,iBAAiB,GAAG;AAEhBb,IAAAA,KAAK,CAACc,GAAN,CAAU,oCAAV,EACKC,IADL,CACUC,QAAQ,IAAI;AACd,YAAMC,SAAS,GAAGD,QAAQ,CAACE,IAA3B;AACA,WAAKC,QAAL,CAAc;AAAER,QAAAA,OAAO,EAAEM;AAAX,OAAd;AAGH,KANL,EAMOG,KANP,CAMcC,KAAD,IAAW;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAY,4BAA4BF,KAAxC;AACH,KARL;AASH;;AAEDG,EAAAA,WAAW,GAAG;AACV,SAAKhB,KAAL,CAAWG,OAAX,CAAmBc,GAAnB,CAAwBC,WAAD,IAAiB;AACpC,UAAIA,WAAW,CAACC,IAAZ,IAAoB,KAAKnB,KAAL,CAAWC,IAAnC,EAAyC;AACrC,cAAMmB,aAAa,GAAGF,WAAW,CAACd,QAAlC,CADqC,CAErC;;AAEA,YAAGc,WAAW,CAACd,QAAZ,IAAwB,KAAKJ,KAAL,CAAWI,QAAtC,EAA+C;AAC3C,eAAKO,QAAL,CAAc;AAAEP,YAAAA,QAAQ,EAAEgB;AAAZ,WAAd;AACH;AAEJ;AACJ,KAVD,EADU,CAYV;AACH;;AAEDtB,EAAAA,aAAa,CAACuB,CAAD,EAAI;AACb,SAAKV,QAAL,CAAc;AACVT,MAAAA,KAAK,EAAEmB,CAAC,CAACC,MAAF,CAASC;AADN,KAAd;AAIH;;AAED3B,EAAAA,YAAY,CAACyB,CAAD,EAAI;AACZ,SAAKV,QAAL,CAAc;AACVV,MAAAA,IAAI,EAAEoB,CAAC,CAACC,MAAF,CAASC;AADL,KAAd;AAIH,GA1DgD,CA4DjD;AACA;AACA;;;AAEAC,EAAAA,kBAAkB,GAAG;AACjB;AAAE,WAAKR,WAAL;AAAoB;AACzB;;AAGDjB,EAAAA,QAAQ,CAACsB,CAAD,EAAI;AAERA,IAAAA,CAAC,CAACI,cAAF,GAFQ,CAGR;;AACA,UAAMC,KAAK,GAAG;AACVtB,MAAAA,QAAQ,EAAE,KAAKJ,KAAL,CAAWI,QADX;AAEVF,MAAAA,KAAK,EAAE,KAAKF,KAAL,CAAWE;AAFR,KAAd;AAIAY,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKf,KAAL,CAAWE,KAAvB;AACAY,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKf,KAAL,CAAWC,IAAvB;AACAa,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKf,KAAL,CAAWI,QAAvB,EAVQ,CAWR;AACA;AACA;AACA;AAEH;;AAGDuB,EAAAA,MAAM,GAAG;AACL,wBACI;AAAK,MAAA,KAAK,EAAE;AAAC,kBAAS;AAAV,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAM,MAAA,QAAQ,EAAE,KAAK5B,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACQ;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,SAAS,EAAC,kBAAjB;AAAoC,MAAA,OAAO,EAAC,WAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,CADJ,eAII;AAAQ,MAAA,SAAS,EAAC,eAAlB;AAAkC,MAAA,EAAE,EAAC,WAArC;AAAiD,MAAA,KAAK,EAAE,KAAKC,KAAL,CAAWE,KAAnE;AAA0E,MAAA,QAAQ,EAAE,KAAKJ,aAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,QAAQ,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,eAEI;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFJ,eAGI;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ,eAII;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJJ,eAKI;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eALJ,eAMI;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aANJ,eAOI;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPJ,eAQI;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cARJ,eASI;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBATJ,eAUI;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAVJ,eAWI;AAAQ,MAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAXJ,eAYI;AAAQ,MAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAZJ,eAaI;AAAQ,MAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAbJ,CAJJ,CADR,eAsBQ;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,SAAS,EAAC,kBAAjB;AAAoC,MAAA,OAAO,EAAC,WAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,CADJ,eAII;AAAQ,MAAA,SAAS,EAAC,eAAlB;AAAkC,MAAA,EAAE,EAAC,WAArC;AAAiD,MAAA,KAAK,EAAE,KAAKE,KAAL,CAAWC,IAAnE;AAAyE,MAAA,QAAQ,EAAE,KAAKL,YAAxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,QAAQ,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,EAEK,KAAKI,KAAL,CAAWG,OAAX,CAAmBc,GAAnB,CAAwBd,OAAD,IAAa;AAAE,0BAAO;AAAQ,QAAA,KAAK,EAAEA,OAAO,CAACgB,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA8BhB,OAAO,CAACgB,IAAtC,CAAP;AAA6D,KAAnG,CAFL,CAJJ,CAtBR,eAgCQ;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,KAAK,EAAC,QAA3B;AACI,MAAA,SAAS,EAAC,iBADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAhCR,CADA,CADJ;AA0CH;;AAnIgD","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios'\n\nexport default class requireSearch extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.OnChnageCity = this.OnChnageCity.bind(this)\n        this.OnChnageMonth = this.OnChnageMonth.bind(this)\n        this.onSubmit = this.onSubmit.bind(this)\n\n        this.state = {\n            city: '',\n            month: '',\n            allcity:[],\n            po_place:''\n        }\n\n    }\n\n    componentDidMount() {\n        \n        axios.get('http://agrolly.tech/get_cities.php')\n            .then(response => {\n                const getcities = response.data\n                this.setState({ allcity: getcities })\n                \n\n            }).catch((error) => {\n                console.log(\"error from get cities: \" + error)\n            })\n    }\n\n    getCityCode() {\n        this.state.allcity.map((currentcity) => {\n            if (currentcity.City == this.state.city) {\n                const currentcitypo = currentcity.po_place\n                // console.log(currentcitypo)\n                \n                if(currentcity.po_place != this.state.po_place){\n                    this.setState({ po_place: currentcitypo })\n                }\n                \n            }\n        })\n        // this.getLong();\n    }\n\n    OnChnageMonth(e) {\n        this.setState({\n            month: e.target.value\n        })\n\n    }\n\n    OnChnageCity(e) {\n        this.setState({\n            city: e.target.value\n        })\n       \n    }\n\n    // componentDidUpdate(){\n    //     this.getCityCode();\n    // }\n\n    componentDidUpdate() {\n        { this.getCityCode() }\n    }\n    \n\n    onSubmit(e) {\n        \n        e.preventDefault();\n        // this.getCityCode();\n        const reset = {\n            po_place: this.state.po_place,\n            month: this.state.month,\n        }\n        console.log(this.state.month)\n        console.log(this.state.city)\n        console.log(this.state.po_place)\n        // this.props.history.push({\n        //     pathname: '/croprisk/display',\n        //     state: { detail: reset }\n        //   })\n\n    }\n\n\n    render() {\n        return (\n            <div style={{\"margin\":\"2% 30%\"}}>\n            <form onSubmit={this.onSubmit} >\n                    <div className=\"input-group mb-3\">\n                        <div className=\"input-group-prepend\">\n                            <label className=\"input-group-text\" htmlFor=\"inputTime\">Month</label>\n                        </div>\n                        <select className=\"custom-select\" id=\"inputTime\" value={this.state.month} onChange={this.OnChnageMonth}>\n                            <option selected>Choose...</option>\n                            <option value=\"1\">January</option>\n                            <option value=\"2\">February</option>\n                            <option value=\"3\">March</option>\n                            <option value=\"4\">April</option>\n                            <option value=\"5\">May</option>\n                            <option value=\"6\">June</option>\n                            <option value=\"7\">July</option>\n                            <option value=\"8\">Auguest</option>\n                            <option value=\"9\">September</option>\n                            <option value=\"10\">October</option>\n                            <option value=\"11\">November</option>\n                            <option value=\"12\">December</option>\n                        </select>\n                    </div>\n\n                    <div className=\"input-group mb-3\">\n                        <div className=\"input-group-prepend\">\n                            <label className=\"input-group-text\" htmlFor=\"inputCity\">City</label>\n                        </div>\n                        <select className=\"custom-select\" id=\"inputCity\" value={this.state.city} onChange={this.OnChnageCity}>\n                            <option selected>Choose...</option>\n                            {this.state.allcity.map((allcity) => { return <option value={allcity.City}>{allcity.City}</option> })}\n                        </select>\n                    </div>\n                    \n                    <div className=\"form-group\">\n                        <input type=\"submit\" value=\"search\"\n                            className=\"btn btn-primary\" />\n                    </div>\n                </form>\n                \n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}