{"ast":null,"code":"var _jsxFileName = \"/Users/helentsai/Agrolly-Web/Frontend/src/components/homePage/homepageWorldNews.js\";\nimport React, { Component } from 'react';\nimport Card from './newsTemplet';\nimport style from './newsTemplet.module.css';\nimport axios from 'axios';\nexport default class HomepageWorldNews extends Component {\n  constructor(props) {\n    super(props);\n    this.countrySearch = this.countrySearch.bind(this);\n    this.state = {\n      news: [],\n      search: \"Agrolly\"\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:5000/news/allnews').then(response => {\n      // console.log(response.data)\n      const news = response.data;\n      this.setState({\n        news: news\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  countrySearch(e) {\n    this.setState({\n      search: e.target.value\n    });\n  }\n\n  NewsList() {\n    let filterCountry = this.state.news.filter(countries => {\n      // console.log(countries.country.toLowerCase().includes(this.state.search.toLowerCase() != -1))\n      return countries.country.toLowerCase() != this.state.search.toLowerCase();\n    });\n    return filterCountry.slice(0, 4).map(currentnews => {\n      if (currentnews.news_id !== null) {\n        return /*#__PURE__*/React.createElement(Card, {\n          key: currentnews.news_id,\n          news: currentnews,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 24\n          }\n        });\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: style.site,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, this.NewsList());\n  }\n\n}","map":{"version":3,"sources":["/Users/helentsai/Agrolly-Web/Frontend/src/components/homePage/homepageWorldNews.js"],"names":["React","Component","Card","style","axios","HomepageWorldNews","constructor","props","countrySearch","bind","state","news","search","componentDidMount","get","then","response","data","setState","catch","error","console","log","e","target","value","NewsList","filterCountry","filter","countries","country","toLowerCase","slice","map","currentnews","news_id","render","site"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,eAAjB;AACA,OAAOC,KAAP,MAAkB,0BAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,iBAAN,SAAgCJ,SAAhC,CAA0C;AAErDK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAE,EADG;AAETC,MAAAA,MAAM,EAAC;AAFE,KAAb;AAIH;;AAEDC,EAAAA,iBAAiB,GAAG;AAEhBT,IAAAA,KAAK,CAACU,GAAN,CAAU,oCAAV,EACKC,IADL,CACUC,QAAQ,IAAI;AACd;AACA,YAAML,IAAI,GAAGK,QAAQ,CAACC,IAAtB;AACA,WAAKC,QAAL,CAAc;AAAEP,QAAAA,IAAI,EAAEA;AAAR,OAAd;AACH,KALL,EAMKQ,KANL,CAMYC,KAAD,IAAW;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KARL;AASH;;AAEDZ,EAAAA,aAAa,CAACe,CAAD,EAAG;AACZ,SAAKL,QAAL,CAAc;AAACN,MAAAA,MAAM,EAACW,CAAC,CAACC,MAAF,CAASC;AAAjB,KAAd;AACH;;AAEDC,EAAAA,QAAQ,GAAG;AACP,QAAIC,aAAa,GAAG,KAAKjB,KAAL,CAAWC,IAAX,CAAgBiB,MAAhB,CACfC,SAAD,IAAc;AACV;AACA,aAAOA,SAAS,CAACC,OAAV,CAAkBC,WAAlB,MAAmC,KAAKrB,KAAL,CAAWE,MAAX,CAAkBmB,WAAlB,EAA1C;AACH,KAJe,CAApB;AAMA,WAAOJ,aAAa,CAACK,KAAd,CAAoB,CAApB,EAAuB,CAAvB,EAA0BC,GAA1B,CAA8BC,WAAW,IAAI;AAChD,UAAIA,WAAW,CAACC,OAAZ,KAAwB,IAA5B,EAAkC;AAC9B,4BAAO,oBAAC,IAAD;AAAM,UAAA,GAAG,EAAED,WAAW,CAACC,OAAvB;AAAgC,UAAA,IAAI,EAAED,WAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACH;AACJ,KAJM,CAAP;AAKH;;AAEDE,EAAAA,MAAM,GAAG;AACL,wBACI;AAAK,MAAA,SAAS,EAAEjC,KAAK,CAACkC,IAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKX,QAAL,EADL,CADJ;AAKH;;AAhDoD","sourcesContent":["import React, { Component } from 'react'\nimport Card from './newsTemplet'\nimport style from './newsTemplet.module.css'\nimport axios from 'axios';\n\nexport default class HomepageWorldNews extends Component {\n\n    constructor(props) {\n        super(props);\n        this.countrySearch = this.countrySearch.bind(this)\n        this.state = { \n            news: [],\n            search:\"Agrolly\"\n        };\n    }\n\n    componentDidMount() {\n\n        axios.get('http://localhost:5000/news/allnews')\n            .then(response => {\n                // console.log(response.data)\n                const news = response.data;\n                this.setState({ news :news });\n            })\n            .catch((error) => {\n                console.log(error);\n            })\n    }\n\n    countrySearch(e){\n        this.setState({search:e.target.value})\n    }\n\n    NewsList() {\n        let filterCountry = this.state.news.filter(\n            (countries) =>{\n                // console.log(countries.country.toLowerCase().includes(this.state.search.toLowerCase() != -1))\n                return countries.country.toLowerCase()!= (this.state.search.toLowerCase())\n            }\n        )\n        return filterCountry.slice(0, 4).map(currentnews => {\n            if (currentnews.news_id !== null) {\n                return <Card key={currentnews.news_id} news={currentnews} />;\n            }\n        })\n    }\n\n    render() {\n        return (\n            <div className={style.site}>\n               { this.NewsList()}\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}